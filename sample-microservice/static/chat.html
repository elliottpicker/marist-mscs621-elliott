<!DOCTYPE html>
<html>
  <head>
    <title>Elliott Chat</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/stylesheets/style.css">
    <script src="static/javascripts/jquery-3.3.1.min.js"></script>
  </head>
  <body>
  <p class='description'>
Welcome to Elliott Chat
<p>
</p>

                New Message:
                <form id="create_data" action="/message" method="post" enctype="application/json">
                    <input type="hidden" name="available" value="True" />
                    <div>
                      <label for="name">Username:</label>
                      <input name="name" id="name" value="Elliott">
                    </div>
                    <div>
                      <label for="category">Message</label>
                      <input name="category" id="category" value="Hello there!">
                    </div>
                    <div>
                      <button id="submit">Send Message</button>
                    </div>
                </form>

  </body>
</html>

<script>
jQuery.fn.reverse = [].reverse;
$("body").append("<table><tr>");
$.getJSON('/data', { get_param: '' }, function(data) {
    $.each(data, function(index, element) {
	//	$("body").append("<td>");
	//	$('body').append($('<b>', {text: element.name}));
	//	$("body").append("</td><td>");
	//	$('body').append($('<i>', {text: element.category}));
		
	//	$("p").append("<b><a href='/chat'>translate this message</a></b><b><a href='/chat'>speak this message</a></b></td></tr><tr>");
	//	$("body").append("</b><br><br>");
	
	        var $tr = $('<tr>').append(
            $('<td>').text(element.name),
            $('<td>').text(element.category),
			"<td> <a href='/translate'>translate this message</a></td><td><a href='/speak'>speak this message</a></td>"
        ).appendTo('body');
        console.log($tr.wrap('<p>').html());

		
    });
});
$("body").append("</tr></table>");
</script>